---
name: 集成 antfu/eslint-config
overview: ""
todos:
  - id: 2c04ae53-2d3d-48fd-aa53-75967f28abda
    content: 安装 @antfu/eslint-config 和 eslint 依赖
    status: pending
  - id: a9d8096c-7e0a-4bca-81ac-dd65000dd7ce
    content: 创建 eslint.config.js 配置文件
    status: pending
  - id: 7c1854cc-f0ab-433e-835c-d08bca56cc8d
    content: 在 package.json 中添加 lint 脚本
    status: pending
  - id: b6022fe9-3051-4636-ae4c-4e00ac6f34a5
    content: 创建 .vscode/settings.json 配置（可选）
    status: pending
---

# 集成 antfu/eslint-config

## 方案概述

你的项目是一个 Nuxt 4 + Vue 3 项目，使用 pnpm 作为包管理器。antfu/eslint-config 支持自动检测 Vue 项目并启用相关规则。

## 实施步骤

### 1. 安装依赖

使用 pnpm 安装 `@antfu/eslint-config` 和 `eslint` 作为开发依赖：

```bash
pnpm add -D @antfu/eslint-config eslint
```

### 2. 创建 ESLint 配置文件

创建 [eslint.config.js](eslint.config.js) 文件，使用 ESLint Flat Config 格式：

```javascript
import antfu from '@antfu/eslint-config'

export default antfu({
  vue: true,
  typescript: true,
  
  // 自动解析 .gitignore 文件 (默认已启用)
  gitignore: true,
  
  // 额外忽略的目录和文件
  ignores: [
    '**/dist/**',
    '**/.nuxt/**',
    '**/.output/**',
    '**/node_modules/**',
    '**/.cache/**',
  ],
})
```

**说明**:

- `gitignore: true` 会自动读取 `.gitignore` 中的忽略规则
- `ignores` 选项用于添加额外的忽略模式,这些规则会**扩展**而不是覆盖默认忽略

### 3. 添加 npm scripts

在 [package.json](package.json) 中添加 lint 脚本：

```json
{
  "scripts": {
    "lint": "eslint .",
    "lint:fix": "eslint . --fix"
  }
}
```

### 4. 配置 VS Code 集成（可选）

创建 [.vscode/settings.json](.vscode/settings.json) 启用保存时自动修复：

```json
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "eslint.experimental.useFlatConfig": true
}
```

## 文件变更清单

| 文件 | 操作 |

|------|------|

| `package.json` | 修改 - 添加依赖和脚本 |

| `eslint.config.js` | 新建 - ESLint 配置 |

| `.vscode/settings.json` | 新建（可选）- VS Code 设置 |